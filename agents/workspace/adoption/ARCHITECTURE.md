# System Architecture: After Adoption

**Visual guide to the adopted architecture**

---

## Data Flow Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         USER INTERACTION                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚                                    â”‚
             â–¼                                    â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  EDITOR (Left)  â”‚                 â”‚ PREVIEW (Right) â”‚
    â”‚                 â”‚                 â”‚                 â”‚
    â”‚  - RichInput    â”‚                 â”‚  - Template     â”‚
    â”‚  - Forms        â”‚                 â”‚  - Live Update  â”‚
    â”‚  - Sections     â”‚                 â”‚  - RAF Batched  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â””â”€â”€â”€â”€â”€â”€â”€â”€â–²â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚                                    â”‚
             â–¼                                    â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”‚
    â”‚ React Hook Form â”‚                          â”‚
    â”‚  + Zod Validate â”‚                          â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â”‚
             â”‚                                    â”‚
             â–¼                                    â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚         ZUSTAND STORE (Document State)           â”‚
    â”‚                                                   â”‚
    â”‚  - document: ResumeJson                          â”‚
    â”‚  - temporal (undo/redo)                          â”‚
    â”‚  - setValue()                                    â”‚
    â”‚  - updateDocument()                              â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚                          â”‚
             â”‚ Auto-save (2s debounce)  â”‚ Shallow selectors
             â–¼                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   API LAYER     â”‚
    â”‚                 â”‚
    â”‚  POST /resumes  â”‚
    â”‚  version check  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   SUPABASE DB   â”‚
    â”‚                 â”‚
    â”‚  JSONB + ver    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Template Rendering Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    RESUME DATA                         â”‚
â”‚                                                        â”‚
â”‚  {                                                     â”‚
â”‚    profile: {...},                                     â”‚
â”‚    work: [...],                                        â”‚
â”‚    custom: { "abc123": {...} },                       â”‚
â”‚    settings: {                                         â”‚
â”‚      templateMetadata: {                               â”‚
â”‚        template: "professional",                       â”‚
â”‚        layout: [                                       â”‚
â”‚          [                              â—„â”€â”€â”€â”€â”€â”€â”€ Pages
â”‚            ["profile", "work"],         â—„â”€â”€â”€â”€â”€â”€â”€ Columns
â”‚            ["skills", "custom.abc123"]  â—„â”€â”€â”€â”€â”€â”€â”€ Sections
â”‚          ]                                             â”‚
â”‚        ],                                              â”‚
â”‚        theme: { primary, text, bg }                    â”‚
â”‚      }                                                 â”‚
â”‚    }                                                   â”‚
â”‚  }                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  getTemplate(slug)  â”‚
         â”‚                     â”‚
         â”‚  Returns Component  â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚  Template Component  â”‚
          â”‚                      â”‚
          â”‚  Props:              â”‚
          â”‚   - data             â”‚
          â”‚   - customizations   â”‚
          â”‚   - mode             â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                       â”‚
         â–¼                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Iterate Pages  â”‚     â”‚  CSS Variables  â”‚
â”‚                 â”‚     â”‚                 â”‚
â”‚  layout.map()   â”‚     â”‚  --primary      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚  --text         â”‚
         â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Iterate Columns â”‚
â”‚                 â”‚
â”‚ Grid layout     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Iterate Sections    â”‚
â”‚                      â”‚
â”‚  for sectionKey in   â”‚
â”‚    sectionsInColumn  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  mapSectionToComponent()     â”‚
â”‚                              â”‚
â”‚  "work" â†’ <WorkSection />    â”‚
â”‚  "custom.abc" â†’ <Custom />   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Section Component Renders   â”‚
â”‚                              â”‚
â”‚  - Pulls data via key        â”‚
â”‚  - Checks visibility         â”‚
â”‚  - Renders items             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Rich Text Editor Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            USER TYPES                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚    TipTap       â”‚
          â”‚    Editor       â”‚
          â”‚                 â”‚
          â”‚  Extensions:    â”‚
          â”‚   - StarterKit  â”‚
          â”‚   - Underline   â”‚
          â”‚   - Link        â”‚
          â”‚   - TextAlign   â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â”‚ onChange
                   â–¼
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚ editor.getHTML()â”‚
          â”‚                 â”‚
          â”‚ Returns:        â”‚
          â”‚ "<p>Text</p>"   â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚ React Hook Form  â”‚
          â”‚                  â”‚
          â”‚ field.onChange() â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚  Zod Validation  â”‚
          â”‚                  â”‚
          â”‚  z.string()      â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚  Zustand Store   â”‚
          â”‚                  â”‚
          â”‚  setValue()      â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â”œâ”€â”€â”€â”€â”€â–º Auto-save (2s) â”€â”€â–º Database
                   â”‚
                   â””â”€â”€â”€â”€â”€â–º Preview Update
                             â”‚
                             â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  sanitizeHtml() â”‚
                    â”‚                 â”‚
                    â”‚  Whitelist:     â”‚
                    â”‚   p, ul, li     â”‚
                    â”‚   strong, em, a â”‚
                    â”‚   (60+ tags)    â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ dangerouslySet... â”‚
                    â”‚                   â”‚
                    â”‚ Render in preview â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Custom Sections Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               CUSTOM SECTIONS MANAGER               â”‚
â”‚                                                     â”‚
â”‚  [+ Add Custom Section]                            â”‚
â”‚                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚  Custom Section: "Volunteer Work"    â”‚  [Edit]  â”‚
â”‚  â”‚  ID: abc123                           â”‚  [Del]   â”‚
â”‚  â”‚  Items: 3                             â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚  Custom Section: "Publications"      â”‚  [Edit]  â”‚
â”‚  â”‚  ID: def456                           â”‚  [Del]   â”‚
â”‚  â”‚  Items: 5                             â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â”‚ Click Edit
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           CUSTOM SECTION DIALOG                     â”‚
â”‚                                                      â”‚
â”‚  Section Name: [Volunteer Work.................]    â”‚
â”‚                                                      â”‚
â”‚  Items:                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚  Organization: [Red Cross.............]  â”‚       â”‚
â”‚  â”‚  Role: [Volunteer Coordinator..........]  â”‚       â”‚
â”‚  â”‚  Date: [2020-2022.....................]  â”‚       â”‚
â”‚  â”‚  Location: [New York, NY............]     â”‚       â”‚
â”‚  â”‚  Summary: [RichInput.................]     â”‚       â”‚
â”‚  â”‚  Keywords: [leadership] [healthcare]       â”‚       â”‚
â”‚  â”‚  URL: [https://redcross.org..........]     â”‚       â”‚
â”‚  â”‚                                            â”‚       â”‚
â”‚  â”‚  [Add Item] [Remove]                       â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                      â”‚
â”‚  [Cancel]  [Save]                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â”‚ Save
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              RESUME DATA STRUCTURE                   â”‚
â”‚                                                      â”‚
â”‚  {                                                   â”‚
â”‚    custom: {                                         â”‚
â”‚      "abc123": {                                     â”‚
â”‚        id: "abc123",                                 â”‚
â”‚        name: "Volunteer Work",                       â”‚
â”‚        columns: 1,                                   â”‚
â”‚        visible: true,                                â”‚
â”‚        items: [                                      â”‚
â”‚          {                                           â”‚
â”‚            id: "item1",                              â”‚
â”‚            visible: true,                            â”‚
â”‚            name: "Red Cross",                        â”‚
â”‚            description: "Volunteer Coordinator",     â”‚
â”‚            date: "2020-2022",                        â”‚
â”‚            location: "New York, NY",                 â”‚
â”‚            summary: "<p>Led team...</p>",           â”‚
â”‚            keywords: ["leadership", "healthcare"],   â”‚
â”‚            url: { label: "Website", href: "..." }    â”‚
â”‚          }                                           â”‚
â”‚        ]                                             â”‚
â”‚      }                                               â”‚
â”‚    }                                                 â”‚
â”‚  }                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â”‚ Layout references as:
                         â–¼
                  "custom.abc123"
                         â”‚
                         â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚  Template Renders  â”‚
              â”‚                    â”‚
              â”‚  Via Generic       â”‚
              â”‚  Section Component â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Section Patterns: Two Approaches

### Pattern 1: Summary (Inline)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“ Professional Summary              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  [RichInput - Direct Editor]    â”‚ â”‚
â”‚  â”‚                                 â”‚ â”‚
â”‚  â”‚  Experienced software engineer  â”‚ â”‚
â”‚  â”‚  with 5+ years...               â”‚ â”‚
â”‚  â”‚                                 â”‚ â”‚
â”‚  â”‚  [B] [I] [U] | [â€¢ List] [Link] â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â”‚ onChange â†’ setValue() â†’ Store
      â–¼
  Immediate Update
```

### Pattern 2: Item-Based (Dialog)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ’¼ Work Experience                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ â‹®â‹® Senior Developer             ğŸ‘ â”‚ â”‚
â”‚  â”‚    Tech Corp â€¢ 2020-Present        â”‚ â”‚
â”‚  â”‚    [Edit] [Duplicate] [Delete]     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ â‹®â‹® Software Engineer            ğŸ‘ â”‚ â”‚
â”‚  â”‚    StartupCo â€¢ 2018-2020           â”‚ â”‚
â”‚  â”‚    [Edit] [Duplicate] [Delete]     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                          â”‚
â”‚  [+ Add Work Experience]                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â”‚ Click Edit
              â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   WORK DIALOG (Modal)    â”‚
    â”‚                          â”‚
    â”‚  Company: [Tech Corp...] â”‚
    â”‚  Role: [Senior Dev...]   â”‚
    â”‚  Dates: [2020] - [Now]   â”‚
    â”‚  Description:            â”‚
    â”‚  [RichInput]             â”‚
    â”‚                          â”‚
    â”‚  [Cancel] [Save]         â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Template Layout System

### Layout Definition
```typescript
layout: [
  [  // Page 1
    [  // Column 1 (Main)
      "profile",
      "summary",
      "work",
      "education",
      "projects"
    ],
    [  // Column 2 (Sidebar)
      "skills",
      "certifications",
      "awards",
      "languages",
      "custom.abc123"  // Custom section
    ]
  ]
  // Page 2 could be here
]
```

### Visual Representation
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     PAGE 1                          â”‚
â”‚                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚     MAIN COLUMN       â”‚   SIDEBAR COLUMN     â”‚  â”‚
â”‚  â”‚       (2/3 width)     â”‚     (1/3 width)      â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚                       â”‚                      â”‚  â”‚
â”‚  â”‚  [Profile Section]    â”‚  [Skills Section]    â”‚  â”‚
â”‚  â”‚  Name, Email, etc.    â”‚  JS, React, Node     â”‚  â”‚
â”‚  â”‚                       â”‚                      â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚                       â”‚                      â”‚  â”‚
â”‚  â”‚  [Summary Section]    â”‚  [Certifications]    â”‚  â”‚
â”‚  â”‚  Professional summary â”‚  AWS, Azure          â”‚  â”‚
â”‚  â”‚                       â”‚                      â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚                       â”‚                      â”‚  â”‚
â”‚  â”‚  [Work Experience]    â”‚  [Awards]            â”‚  â”‚
â”‚  â”‚  Job 1                â”‚  Award 1             â”‚  â”‚
â”‚  â”‚  Job 2                â”‚  Award 2             â”‚  â”‚
â”‚  â”‚                       â”‚                      â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚                       â”‚                      â”‚  â”‚
â”‚  â”‚  [Education]          â”‚  [Languages]         â”‚  â”‚
â”‚  â”‚  University           â”‚  English, Spanish    â”‚  â”‚
â”‚  â”‚                       â”‚                      â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚                       â”‚                      â”‚  â”‚
â”‚  â”‚  [Projects]           â”‚  [Custom: Volunteer] â”‚  â”‚
â”‚  â”‚  Project 1            â”‚  Red Cross           â”‚  â”‚
â”‚  â”‚  Project 2            â”‚                      â”‚  â”‚
â”‚  â”‚                       â”‚                      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## PDF Generation Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ User Clicks     â”‚
â”‚ "Export PDF"    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Create Export Job (Database)        â”‚
â”‚  - jobId                             â”‚
â”‚  - documentId                        â”‚
â”‚  - status: 'pending'                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Background Worker Picks Up Job      â”‚
â”‚  (Polling with FOR UPDATE SKIP...)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  templateRenderer.renderResume()     â”‚
â”‚                                      â”‚
â”‚  1. Get template component           â”‚
â”‚  2. Generate CSS variables           â”‚
â”‚  3. Load Google Fonts                â”‚
â”‚  4. Sanitize HTML content            â”‚
â”‚  5. Render React â†’ HTML string       â”‚
â”‚  6. Wrap in full HTML document       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ HTML String
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  pdfGenerator.generatePdf()          â”‚
â”‚                                      â”‚
â”‚  1. Launch Puppeteer browser         â”‚
â”‚  2. Create new page                  â”‚
â”‚  3. Set viewport (1200x1600)         â”‚
â”‚  4. Load HTML content                â”‚
â”‚  5. Wait for fonts to load           â”‚
â”‚  6. Wait for networkidle0            â”‚
â”‚  7. Generate PDF buffer              â”‚
â”‚  8. Close browser                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ PDF Buffer
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Upload to Supabase Storage          â”‚
â”‚  - Path: exports/{userId}/{jobId}.pdfâ”‚
â”‚  - Public URL                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Update Export Job                   â”‚
â”‚  - status: 'completed'               â”‚
â”‚  - fileUrl                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User Downloads PDF                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## CSS Variable Theming

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User Picks Primary Color      â”‚
â”‚  Color Picker: #1e3a8a (Navy)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Update Store                          â”‚
â”‚  setValue('settings.templateMetadata   â”‚
â”‚            .theme.primary', '#1e3a8a') â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  generateCSSVariables()                â”‚
â”‚                                        â”‚
â”‚  Returns:                              â”‚
â”‚  :root {                               â”‚
â”‚    --theme-primary: #1e3a8a;          â”‚
â”‚    --theme-primary-rgb: 30,58,138;    â”‚
â”‚    --theme-primary-20: rgba(30,58,138,0.2); â”‚
â”‚    --theme-text: #1a1a1a;             â”‚
â”‚    --theme-background: #ffffff;        â”‚
â”‚  }                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Inject via <style> tag in template   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Template uses CSS variables:         â”‚
â”‚                                        â”‚
â”‚  <h1 className="text-template-primary">â”‚
â”‚  <div className="bg-template-primary"> â”‚
â”‚  <div className="border-template-      â”‚
â”‚                   primary">            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
        Instant Update
     (No React Re-render!)
```

---

## File Structure After Adoption

```
resumepair/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ editor/
â”‚   â”‚   â”œâ”€â”€ RichInput.tsx                   âœ¨ NEW
â”‚   â”‚   â””â”€â”€ sections/
â”‚   â”‚       â”œâ”€â”€ CustomSectionsManager.tsx   âœ¨ NEW
â”‚   â”‚       â”œâ”€â”€ WorkSection.tsx             ğŸ“ UPDATED
â”‚   â”‚       â””â”€â”€ [all other sections]        ğŸ“ UPDATED
â”‚   â””â”€â”€ customization/
â”‚       â”œâ”€â”€ ThemeCustomizer.tsx             âœ¨ NEW
â”‚       â”œâ”€â”€ ColorPicker.tsx                 âœ¨ NEW
â”‚       â””â”€â”€ FontSelector.tsx                âœ¨ NEW
â”‚
â”œâ”€â”€ libs/
â”‚   â”œâ”€â”€ rich-text/
â”‚   â”‚   â””â”€â”€ sanitizeHtml.ts                 âœ¨ NEW
â”‚   â”‚
â”‚   â”œâ”€â”€ templates/
â”‚   â”‚   â”œâ”€â”€ templateRegistry.ts             âœ¨ NEW
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ shared/
â”‚   â”‚   â”‚   â”œâ”€â”€ TemplatePage.tsx            âœ¨ NEW
â”‚   â”‚   â”‚   â”œâ”€â”€ GenericSection.tsx          âœ¨ NEW
â”‚   â”‚   â”‚   â”œâ”€â”€ sectionMapper.tsx           âœ¨ NEW
â”‚   â”‚   â”‚   â”œâ”€â”€ HelperComponents.tsx        âœ¨ NEW
â”‚   â”‚   â”‚   â”œâ”€â”€ RatingComponents.tsx        âœ¨ NEW
â”‚   â”‚   â”‚   â””â”€â”€ cssVariables.ts             âœ¨ NEW
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ professional/
â”‚   â”‚   â”‚   â”œâ”€â”€ ProfessionalTemplate.tsx    âœ¨ NEW (7 templates)
â”‚   â”‚   â”‚   â”œâ”€â”€ styles.css
â”‚   â”‚   â”‚   â””â”€â”€ print.css
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ [6 more template folders]       âœ¨ NEW
â”‚   â”‚
â”‚   â”œâ”€â”€ exporters/
â”‚   â”‚   â”œâ”€â”€ templateRenderer.ts             ğŸ“ UPDATED
â”‚   â”‚   â””â”€â”€ pdfGenerator.ts                 ğŸ“ UPDATED
â”‚   â”‚
â”‚   â””â”€â”€ validation/
â”‚       â””â”€â”€ resume.ts                       ğŸ“ UPDATED
â”‚
â”œâ”€â”€ types/
â”‚   â”œâ”€â”€ resume.ts                           ğŸ“ UPDATED (custom, layout)
â”‚   â””â”€â”€ template.ts                         ğŸ“ UPDATED
â”‚
â”œâ”€â”€ hooks/
â”‚   â””â”€â”€ useDialog.ts                        âœ¨ NEW
â”‚
â””â”€â”€ docs/
    â”œâ”€â”€ templates/
    â”‚   â”œâ”€â”€ README.md                       âœ¨ NEW
    â”‚   â””â”€â”€ TEMPLATE_GUIDE.md               âœ¨ NEW
    â”œâ”€â”€ editor/
    â”‚   â”œâ”€â”€ RICH_TEXT.md                    âœ¨ NEW
    â”‚   â””â”€â”€ SECTIONS.md                     âœ¨ NEW
    â””â”€â”€ customization/
        â””â”€â”€ THEMES.md                       âœ¨ NEW
```

**Legend**:
- âœ¨ NEW = Created during adoption
- ğŸ“ UPDATED = Modified during adoption

---

## Agent Deployment Map

```
Phase 1: Schema Evolution
    Agent-1 â”€â”€â–º Types & Validation

Phase 2: Rich Text Editor
    Agent-2A â”€â”€â–º RichInput Component
    Agent-2B â”€â”€â–º Sanitization & Integration

Phase 3: Custom Sections
    Agent-3A â”€â”€â–º UI Components
    Agent-3B â”€â”€â–º Store Operations

Phase 4: Template Architecture
    Agent-4A â”€â”€â–º TemplatePage & GenericSection
    Agent-4B â”€â”€â–º Section Mapping
    Agent-4C â”€â”€â–º Section Components

Phase 5: Template Extraction â­ PARALLEL
    Agent-5A â”€â”€â–º Professional
    Agent-5B â”€â”€â–º Timeline
    Agent-5C â”€â”€â–º Modern
    Agent-5D â”€â”€â–º Executive
    Agent-5E â”€â”€â–º Academic
    Agent-5F â”€â”€â–º Creative
    Agent-5G â”€â”€â–º Bold

Phase 6: CSS Theming
    Agent-6 â”€â”€â–º CSS Variables & UI

Phase 7: Section Patterns
    Agent-7A â”€â”€â–º Summary Pattern
    Agent-7B â”€â”€â–º Item-Based Pattern

Phase 8: PDF Export
    Agent-8A â”€â”€â–º Renderer Updates
    Agent-8B â”€â”€â–º Testing & Print CSS

Phase 9: Integration & Testing
    Agent-9A â”€â”€â–º E2E Tests
    Agent-9B â”€â”€â–º Browser Tests
    Agent-9C â”€â”€â–º Performance Tests

Phase 10: Documentation
    Agent-10 â”€â”€â–º All Docs

Phase 11: Optimization
    Agent-11A â”€â”€â–º Performance
    Agent-11B â”€â”€â–º Accessibility
```

---

## Key Innovations from RR

### 1. Layout-as-Data
**Problem**: Hard-coded template layouts
**Solution**: `pages â†’ columns â†’ sections` array structure
**Benefit**: Templates adapt to any section arrangement

### 2. Generic Section Component
**Problem**: Every template needs to implement every section
**Solution**: Property-key based data extraction
**Benefit**: Custom sections work automatically

### 3. CSS Variable Theming
**Problem**: Theme changes require React re-render
**Solution**: CSS variables updated at runtime
**Benefit**: Instant theme updates, no re-render

### 4. Two Section Patterns
**Problem**: One-size-fits-all section editing
**Solution**: Summary (inline) vs Item-based (dialog)
**Benefit**: Right UX for different data types

### 5. Drag-Drop with @dnd-kit
**Problem**: Manual reordering is tedious
**Solution**: Accessible drag-drop library
**Benefit**: Keyboard + mouse reordering

---

**This architecture document provides a visual reference for understanding the adopted system.**
