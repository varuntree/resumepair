@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================================
   RAMP DESIGN SYSTEM - CSS VARIABLES
   ResumePair Implementation

   Architecture:
   - App-scoped tokens (--app-*): Application shell, dashboard, navigation
   - Document-scoped tokens (--doc-*): Resume/cover letter templates
   - Shadcn compatibility: Maintains --primary, --background, etc.
   ============================================ */

@layer base {
  :root {
    /* ========================================
       APP-SCOPED TOKENS (Application Shell)
       ======================================== */

    /* App Color System - Ramp Palette */
    --app-navy-dark: 225 52% 8%;           /* #0B0F1E */
    --app-navy-medium: 226 36% 16%;        /* #1A1F35 */
    --app-black: 0 0% 0%;                  /* #000000 */
    --app-white: 0 0% 100%;                /* #FFFFFF */

    /* App Accent Colors */
    --app-lime: 73 100% 50%;               /* #CDFF00 */
    --app-lime-hover: 70 100% 45%;         /* #B8E600 */
    --app-lime-dark: 67 100% 40%;          /* #A3CC00 */

    /* App Neutral Scale */
    --app-gray-50: 210 17% 98%;            /* #F8F9FA */
    --app-gray-100: 210 17% 95%;           /* #F1F3F5 */
    --app-gray-200: 210 16% 93%;           /* #E9ECEF */
    --app-gray-300: 210 14% 89%;           /* #DEE2E6 */
    --app-gray-500: 210 11% 46%;           /* #6C757D */
    --app-gray-700: 210 9% 31%;            /* #495057 */
    --app-gray-900: 210 11% 15%;           /* #212529 */

    /* App Semantic Colors (Light Mode) */
    --app-background: var(--app-white);
    --app-foreground: var(--app-gray-900);
    --app-primary: var(--app-lime);
    --app-primary-foreground: var(--app-navy-dark);
    --app-secondary: var(--app-gray-100);
    --app-secondary-foreground: var(--app-gray-700);
    --app-muted: var(--app-gray-100);
    --app-muted-foreground: var(--app-gray-500);
    --app-accent: var(--app-gray-50);
    --app-accent-foreground: var(--app-gray-900);
    --app-border: var(--app-gray-200);
    --app-input: var(--app-gray-100);
    --app-ring: var(--app-lime);

    /* Shadcn Compatibility Layer */
    --background: var(--app-background);
    --foreground: var(--app-foreground);
    --primary: var(--app-primary);
    --primary-foreground: var(--app-primary-foreground);
    --secondary: var(--app-secondary);
    --secondary-foreground: var(--app-secondary-foreground);
    --muted: var(--app-muted);
    --muted-foreground: var(--app-muted-foreground);
    --accent: var(--app-accent);
    --accent-foreground: var(--app-accent-foreground);
    --border: var(--app-border);
    --input: var(--app-input);
    --ring: var(--app-ring);

    /* Card & Popover */
    --card: var(--app-white);
    --card-foreground: var(--app-gray-900);
    --popover: var(--app-white);
    --popover-foreground: var(--app-gray-900);

    /* Destructive */
    --destructive: 0 84% 60%;
    --destructive-foreground: var(--app-white);

    /* Sidebar */
    --sidebar: var(--app-gray-50);
    --sidebar-foreground: var(--app-gray-900);
    --sidebar-primary: var(--app-lime);
    --sidebar-primary-foreground: var(--app-navy-dark);
    --sidebar-accent: var(--app-gray-100);
    --sidebar-accent-foreground: var(--app-gray-900);
    --sidebar-border: var(--app-gray-200);
    --sidebar-ring: var(--app-lime);

    /* Chart Colors */
    --chart-1: 210 37% 65%;
    --chart-2: 13 73% 75%;
    --chart-3: 213 30% 50%;
    --chart-4: 217 36% 43%;
    --chart-5: 221 44% 35%;

    /* ========================================
       TYPOGRAPHY SYSTEM
       ======================================== */

    /* Font Families */
    --font-sans: var(--font-inter);
    --font-serif: var(--font-source-serif);
    --font-mono: var(--font-jetbrains-mono);

    /* Font Sizes (Ramp Scale) */
    --text-xs: 0.75rem;      /* 12px */
    --text-sm: 0.875rem;     /* 14px */
    --text-base: 1rem;       /* 16px */
    --text-lg: 1.125rem;     /* 18px */
    --text-xl: 1.25rem;      /* 20px */
    --text-2xl: 1.5rem;      /* 24px */
    --text-3xl: 1.875rem;    /* 30px */
    --text-4xl: 2.25rem;     /* 36px */
    --text-5xl: 3rem;        /* 48px */
    --text-6xl: 3.75rem;     /* 60px */
    --text-7xl: 4.5rem;      /* 72px */

    /* Font Weights */
    --font-normal: 400;
    --font-medium: 500;
    --font-semibold: 600;
    --font-bold: 700;

    /* Line Heights */
    --leading-tight: 1.25;
    --leading-snug: 1.375;
    --leading-normal: 1.5;
    --leading-relaxed: 1.625;

    /* Letter Spacing */
    --tracking-tight: -0.02em;
    --tracking-normal: 0;
    --tracking-wide: 0.05em;

    /* ========================================
       SPACING SCALE (8px Base)
       ======================================== */

    --space-1: 0.25rem;   /* 4px */
    --space-2: 0.5rem;    /* 8px */
    --space-3: 0.75rem;   /* 12px */
    --space-4: 1rem;      /* 16px */
    --space-5: 1.25rem;   /* 20px */
    --space-6: 1.5rem;    /* 24px */
    --space-8: 2rem;      /* 32px */
    --space-10: 2.5rem;   /* 40px */
    --space-12: 3rem;     /* 48px */
    --space-16: 4rem;     /* 64px */
    --space-20: 5rem;     /* 80px */
    --space-24: 6rem;     /* 96px */
    --space-32: 8rem;     /* 128px */

    /* Section Padding */
    --section-padding-mobile: var(--space-16);
    --section-padding-desktop: var(--space-24);

    /* ========================================
       BORDER RADIUS
       ======================================== */

    --radius-sm: 0.375rem;   /* 6px */
    --radius-md: 0.5rem;     /* 8px */
    --radius-lg: 0.75rem;    /* 12px */
    --radius-xl: 1rem;       /* 16px */
    --radius-2xl: 1.5rem;    /* 24px */
    --radius-full: 9999px;

    /* Default Radius (shadcn compatibility) */
    --radius: var(--radius-lg);

    /* ========================================
       SHADOWS (Ramp System)
       ======================================== */

    --shadow-xs: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
    --shadow-sm: 0 2px 4px 0 rgba(0, 0, 0, 0.06);
    --shadow-md: 0 4px 8px 0 rgba(0, 0, 0, 0.08);
    --shadow-lg: 0 8px 16px 0 rgba(0, 0, 0, 0.10);
    --shadow-xl: 0 16px 32px 0 rgba(0, 0, 0, 0.12);
    --shadow-2xl: 0 24px 48px 0 rgba(0, 0, 0, 0.15);

    /* Shadcn compatibility */
    --shadow-2xs: var(--shadow-xs);
    --shadow: var(--shadow-sm);

    /* ========================================
       TRANSITIONS
       ======================================== */

    --transition-fast: 0.15s ease;
    --transition-base: 0.2s ease;
    --transition-slow: 0.3s ease;

    /* ========================================
       GRADIENTS
       ======================================== */

    --gradient-hero: linear-gradient(180deg, hsl(var(--app-navy-dark)) 0%, hsl(226 40% 20%) 100%);
    --gradient-section: linear-gradient(180deg, hsl(var(--app-gray-50)) 0%, hsl(var(--app-white)) 100%);
  }

  /* ========================================
     DARK MODE
     ======================================== */

  .dark {
    /* App Colors - Dark Mode */
    --app-background: var(--app-navy-dark);
    --app-foreground: var(--app-white);
    --app-primary: var(--app-lime);
    --app-primary-foreground: var(--app-navy-dark);
    --app-secondary: var(--app-navy-medium);
    --app-secondary-foreground: var(--app-white);
    --app-muted: var(--app-navy-medium);
    --app-muted-foreground: var(--app-gray-300);
    --app-accent: 226 40% 22%;
    --app-accent-foreground: var(--app-white);
    --app-border: 220 15% 28%;
    --app-input: var(--app-navy-medium);
    --app-ring: var(--app-lime);

    /* Shadcn Compatibility - Dark */
    --background: var(--app-background);
    --foreground: var(--app-foreground);
    --primary: var(--app-primary);
    --primary-foreground: var(--app-primary-foreground);
    --secondary: var(--app-secondary);
    --secondary-foreground: var(--app-secondary-foreground);
    --muted: var(--app-muted);
    --muted-foreground: var(--app-muted-foreground);
    --accent: var(--app-accent);
    --accent-foreground: var(--app-accent-foreground);
    --border: var(--app-border);
    --input: var(--app-input);
    --ring: var(--app-ring);

    /* Card & Popover - Dark */
    --card: var(--app-navy-medium);
    --card-foreground: var(--app-white);
    --popover: var(--app-navy-medium);
    --popover-foreground: var(--app-white);

    /* Sidebar - Dark */
    --sidebar: var(--app-navy-medium);
    --sidebar-foreground: var(--app-white);
    --sidebar-primary: var(--app-lime);
    --sidebar-primary-foreground: var(--app-navy-dark);
    --sidebar-accent: 226 40% 25%;
    --sidebar-accent-foreground: var(--app-white);
    --sidebar-border: 220 15% 28%;
    --sidebar-ring: var(--app-lime);

    /* Adjust gradients for dark */
    --gradient-hero: linear-gradient(180deg, hsl(var(--app-navy-dark)) 0%, hsl(226 40% 20%) 100%);
  }

  /* ========================================
     DOCUMENT-SCOPED TOKENS (Templates)
     ======================================== */

  .doc-theme {
    /* Document Colors (Default - customizable per template) */
    --doc-primary: hsl(225 52% 8%);        /* Navy dark */
    --doc-secondary: hsl(226 36% 16%);     /* Navy medium */
    --doc-accent: hsl(73 100% 50%);        /* Lime */
    --doc-text: hsl(210 11% 15%);          /* Gray 900 */
    --doc-background: hsl(0 0% 100%);      /* White */
    --doc-muted: hsl(210 11% 46%);         /* Gray 500 */
    --doc-border: hsl(210 16% 93%);        /* Gray 200 */

    /* Document Typography */
    --doc-font-family: var(--font-sans);
    --doc-font-size-scale: 1;              /* Multiplier for sizing (0.8-1.2) */
    --doc-line-height: 1.4;                /* Line height multiplier */
    --doc-font-weight: 400;                /* Base font weight */

    /* Document Spacing */
    --doc-section-gap: 24px;               /* Gap between sections */
    --doc-item-gap: 12px;                  /* Gap between items */
    --doc-page-padding: 48px;              /* Page margins */

    /* Document Icons */
    --doc-icon-size: 16px;
    --doc-icon-color: currentColor;
  }
}

/* ========================================
   TEMPLATE UTILITY CLASSES
   ======================================== */

@layer utilities {
  /* Prevent page breaks inside elements (for print/PDF) */
  .doc-avoid-break {
    break-inside: avoid;
    page-break-inside: avoid;
  }

  /* Force page break before element */
  .doc-break-before {
    break-before: page;
    page-break-before: always;
  }

  /* Document container base styles */
  .doc-container {
    position: relative;
    width: 100%;
  }

  /* Icon visibility toggle */
  [data-icons="false"] .doc-icon {
    display: none;
  }
}

/* ========================================
   BASE STYLES
   ======================================== */

@layer base {
  * {
    @apply border-border;
  }

  html {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  body {
    @apply bg-background text-foreground;
    font-family: var(--font-sans);
    scroll-behavior: smooth;
  }

  /* Focus Visible States */
  :focus-visible {
    outline: 2px solid hsl(var(--ring));
    outline-offset: 2px;
  }

  /* Selection */
  ::selection {
    background-color: hsl(var(--primary) / 0.2);
  }
}

/* ========================================
   TYPOGRAPHY COMPOSITION CLASSES
   ======================================== */

@layer components {
  .headline-display {
    font-size: var(--text-7xl);
    font-weight: var(--font-bold);
    line-height: var(--leading-tight);
    letter-spacing: var(--tracking-tight);
  }

  .headline-hero {
    font-size: var(--text-6xl);
    font-weight: var(--font-bold);
    line-height: var(--leading-tight);
    letter-spacing: var(--tracking-tight);
  }

  .headline-section {
    font-size: var(--text-4xl);
    font-weight: var(--font-bold);
    line-height: var(--leading-snug);
  }

  .headline-card {
    font-size: var(--text-xl);
    font-weight: var(--font-semibold);
    line-height: var(--leading-snug);
  }

  .body-large {
    font-size: var(--text-lg);
    font-weight: var(--font-normal);
    line-height: var(--leading-relaxed);
  }

  .body-base {
    font-size: var(--text-base);
    font-weight: var(--font-normal);
    line-height: var(--leading-normal);
  }

  .label-uppercase {
    font-size: var(--text-xs);
    font-weight: var(--font-semibold);
    line-height: var(--leading-tight);
    letter-spacing: var(--tracking-wide);
    text-transform: uppercase;
  }

  /* Responsive Typography */
  @media (max-width: 768px) {
    .headline-display {
      font-size: var(--text-5xl);
    }

    .headline-hero {
      font-size: var(--text-4xl);
    }

    .headline-section {
      font-size: var(--text-3xl);
    }
  }
}

/* ========================================
   UTILITY CLASSES
   ======================================== */

@layer utilities {
  /* Hover Effects */
  .hover-lift {
    transition: transform var(--transition-base);
  }

  .hover-lift:hover {
    transform: translateY(-4px);
  }

  /* Section Utilities */
  .section {
    padding: var(--section-padding-mobile) 0;
  }

  @media (min-width: 768px) {
    .section {
      padding: var(--section-padding-desktop) 0;
    }
  }

  .section-dark {
    background-color: hsl(var(--app-navy-dark));
    color: hsl(var(--app-white));
  }

  .section-gray {
    background-color: hsl(var(--app-gray-50));
  }

  /* Container */
  .container-ramp {
    width: 100%;
    max-width: 1280px;
    margin-left: auto;
    margin-right: auto;
    padding-left: var(--space-6);
    padding-right: var(--space-6);
  }

  @media (min-width: 768px) {
    .container-ramp {
      padding-left: var(--space-8);
      padding-right: var(--space-8);
    }
  }
}

/* ========================================
   ANIMATIONS
   ======================================== */

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideInRight {
  from {
    opacity: 0;
    transform: translateX(20px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

.animate-fade-in {
  animation: fadeIn 0.5s ease-out;
}

.animate-slide-in {
  animation: slideInRight 0.6s ease-out;
}

/* Legacy animation support */
@keyframes opacity {
  0% { opacity: 0; }
  100% { opacity: 1; }
}

@keyframes appearFromRight {
  0% { opacity: 0.3; transform: translate(15%, 0); }
  100% { opacity: 1; transform: translate(0); }
}

@keyframes wiggle {
  0%, 20%, 80%, 100% { transform: rotate(0deg); }
  30%, 60% { transform: rotate(-2deg); }
  40%, 70% { transform: rotate(2deg); }
  45% { transform: rotate(-4deg); }
  55% { transform: rotate(4deg); }
}

@keyframes popup {
  0% { transform: scale(0.8); opacity: 0.8; }
  50% { transform: scale(1.1); opacity: 1; }
  100% { transform: scale(1); opacity: 1; }
}

@keyframes shimmer {
  0% { background-position: 0 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

.animate-opacity { animation: opacity 0.25s ease-in-out; }
.animate-appearFromRight { animation: appearFromRight 300ms ease-in-out; }
.animate-wiggle { animation: wiggle 1.5s ease-in-out infinite; }
.animate-popup { animation: popup 0.25s ease-in-out; }
.animate-shimmer { animation: shimmer 3s ease-out infinite alternate; }

/* ========================================
   PROGRESS BAR
   ======================================== */

progress::-webkit-progress-value {
  transition: 0.6s width ease-out;
}
